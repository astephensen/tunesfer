<LinkTo @route="application"><BackButton /></LinkTo>

<PlaylistInfo
  @image={{this.model.playlist.images.firstObject.url}}
  @name={{this.model.playlist.name}}
  @description={{this.model.playlist.description}}
  @author={{this.model.playlist.owner.display_name}}
>
  <MusicButton @title="Add to Apple Music" @action={{this.addPlaylist}}/>
  {{!--
  {{#if this.processTrack.isRunning}}
    <button type="button" {{on "click" this.cancel}}>Cancel</button>
  {{/if}}
  --}}
</PlaylistInfo>

{{#each this.model.playlist.tracks.items as |trackItem trackIndex|}}
  <Track
    @index={{add-one trackIndex}}
    @name={{trackItem.track.name}}
    @artist={{trackItem.track.artists.firstObject.name}}
    @album={{trackItem.track.album.name}}
    @duration={{format-milliseconds trackItem.track.duration_ms}}
    @processing={{trackItem.task.hasStarted}}
    @succeeded={{trackItem.task.isSuccessful}}
    @failed={{trackItem.task.isError}}
  />
{{/each}}
